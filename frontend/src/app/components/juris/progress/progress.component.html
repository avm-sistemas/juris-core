<mat-toolbar class="toolbar-color py-5 mb-4">
    <span class="center">{{'grid:PROGRESS:TITLE'|translate}}</span>
</mat-toolbar>
<div class="container">
    <div>
        <mat-toolbar class="toolbar-color-sub py-5 mb-4">
            <button matButton (click)="openDialog(null, CRUDMODE.CREATE)">{{'grid:NEW'|translate}}</button>
        </mat-toolbar>
    </div>
    <div style="padding: 0px;text-align: center;">

        <div *ngIf="(data$ | async) as hasData">

            <table style="width: 100%;" *ngIf="hasData.length > 0">
                <thead>
                    <tr class="toolbar-color-sub">
                        <th style="width: 150px;">{{'grid:PROGRESS:Column:Date'|translate}}</th>
                        <th>{{'grid:PROGRESS:Column:Description'|translate}}</th>
                        <th>{{'grid:PROGRESS:Column:Status'|translate}}</th>
                        <th style="width: 150px;">{{'grid:PROGRESS:Column:Updated'|translate}}</th>
                        <th style="width: 160px;"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let obj of data$ | async">
                        <td>{{ obj.dataAndamento | date: 'dd/MM/yyyy' }}</td>                    
                        <td>{{ obj.descricao }}</td>                    
                        <td>{{ obj.statusAtual }}</td>    
                        <td>{{ obj.updated | date: 'dd/MM/yyyy' }}</td>
                        <td><button matButton (click)="openDialog(obj.id, CRUDMODE.READ)">{{'grid:VIEW'|translate}}</button>&nbsp;
                            <button matButton (click)="openDialog(obj.id, CRUDMODE.UPDATE)">{{'grid:EDIT'|translate}}</button>&nbsp;
                            <button matButton (click)="openDialog(obj.id, CRUDMODE.DELETE)">{{'grid:DELETE'|translate}}</button></td>
                    </tr>    
                </tbody>
            </table>

            <table style="width: 100%;" *ngIf="hasData.length == 0">
                <thead>
                    <tr class="toolbar-color-sub">
                        <th style="width: 150px;">{{'grid:PROGRESS:Column:Date'|translate}}</th>
                        <th>{{'grid:PROGRESS:Column:Description'|translate}}</th>
                        <th>{{'grid:PROGRESS:Column:Status'|translate}}</th>
                        <th style="width: 150px;">{{'grid:PROGRESS:Column:Updated'|translate}}</th>
                        <th style="width: 160px;"></th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <div *ngIf="hasData.length == 0" style="text-align: center;margin-top: 50px;">
                <p style="color:black">{{'grid:NO-DATA'|translate}}</p>                
            </div>

        </div>

    </div>
</div>
